Purpose & context
Milan is developing "Abracodabra," a Unity-based ecosystem simulation game featuring a sophisticated gene-based plant breeding system. The core gameplay loop involves players editing gene sequences to create custom seeds, planting them to grow plants with genetic behaviors, and managing an inventory system with tools for farming activities like watering, harvesting, and soil preparation. The project emphasizes clean architecture, maintainable code, and designer-friendly systems that allow non-programmers to create content through ScriptableObjects and Unity Inspector configurations.
The game combines pixel art aesthetics with complex simulation mechanics, including animal behavior systems, procedural map generation, and a dual-grid tilemap system for visual rendering. Milan values long-term architectural solutions over quick fixes and prefers modular, service-oriented designs that can scale without requiring complete rewrites.
Current state
Milan has successfully transitioned the UI system from UGUI to UI Toolkit, implementing a comprehensive gene editor interface with drag-and-drop functionality, dual selection states, and proper data persistence. The inventory system now features working hotbars, tooltips, and item management through a clean service architecture using InventoryService and HotbarSelectionService as static bridges between UI and game systems.
Recent development has focused on resolving critical gameplay mechanics including seed planting functionality, tool systems (watering can, gardening hoe, harvest pouch), and plant growth systems with proper grid alignment. The gene editor now supports color-coded seed customization, real-time gene modification, and proper integration with the planting system where modified seeds actually function when planted.
On the horizon
Key areas being prepared for future development include expanding the procedural map generation system with biome-based tile selection, implementing camera zoom functionality with mouse wheel controls, and scaling the animal behavior simulation systems. The architecture is being designed to support future features like multi-tile plant growth, leaf-based fruit spawning, and enhanced animal pathfinding systems.
Milan is also planning to expand the gene system with more complex genetic behaviors and improve the visual feedback systems for plant growth and animal interactions.
Key learnings & principles
Milan has established several core development principles through the project's evolution. Clean, modular architecture is prioritized over temporary fixes, with a strong preference for service-oriented designs that separate concerns and maintain clear data flow. When encountering namespace conflicts or system integration issues, the solution approach focuses on proper organization and explicit dependencies rather than workarounds.
The project has revealed that Unity's UI Toolkit requires careful attention to flexbox configuration and CSS class management, particularly when implementing drag-and-drop systems and visual state management. Grid-based systems in Unity 2D require precise coordinate handling, especially ensuring Z-coordinates remain at 0 for proper tilemap queries and avoiding camera depth issues in screen-to-world conversions.
For complex simulation systems, maintaining separation between genetic traits (which define behaviors) and physical items (which are consumable objects) prevents architectural confusion and enables proper inventory management.
Approach & patterns
Milan follows a systematic debugging methodology, preferring comprehensive analysis documents that identify root causes rather than surface-level fixes. When requesting solutions, Milan specifically asks for complete method implementations and copy-pasteable code rather than snippets, emphasizing ease of implementation and reduced integration errors.
The development workflow involves manual configuration over automated scripts, particularly for Unity Inspector settings and sprite import configurations. Milan prefers direct file replacement workflows, requesting that updated files maintain original names rather than versioned suffixes for cleaner project management.
For UI architecture, Milan has adopted an event-driven system with separate controller classes (prefixed with "UI") that handle specific responsibilities, coordinated through a main manager class. This pattern has proven effective for maintaining code organization and enabling future AI or developer collaboration.
Tools & resources
The project is built in Unity using UI Toolkit for interface systems and a third-party dual-grid tilemap package for rendering. The architecture relies heavily on ScriptableObjects for designer-accessible configuration, including MapGenerationProfile and BiomeDefinition assets for procedural generation, and various definition classes for genes, tools, and animal behaviors.
Milan uses Simplex noise for procedural generation and has implemented custom grid management systems including GridPositionManager for coordinate validation and TileInteractionManager for tile-based interactions. The project maintains compatibility with Unity's native systems while extending functionality through custom service layers and manager classes